<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./style/video.css">
</head>
<body>
    <img id="gum-local" src="./media/firstP.jpg" alt="">
    <video id="gum-local" class="camera" autoplay="" playsinline="" muted=""></video>

    <video src="./media/geneva.mp4" class="gen dNone" id="gum-local"  playsinline=""></video>
    <video src="./media/kazakhstan.mp4" id="gum-local" class="kaz dNone" autoplay="" playsinline="" muted=""></video>
    <video src="./media/uzbekistan.mp4" id="gum-local" class="uzb dNone" autoplay="" playsinline="" muted=""></video>
        <div class=""></div>
        <div class="container ">
            <div class="tblue">
                <div class="teams">
                    <div class="b1"></div>
                    <div class="b2"></div>
                    <div class="b3"></div>
                    <div class="b4"></div>
                </div>
                <div class="info1">Match  </div>
            </div>
            <div class=""></div>
            <div class="tred">
                <div class="teams">
                    <div class="r1"></div>
                    <div class="r2"></div>
                    <div class="r3"></div>
                    <div class="r4"></div>
                </div>
                <div class="info2">First Global Kazakhstan</div>
            </div>
            <div class="mid">
                <div class="logo">
                    <img src="./media/Ustem.png" alt="">
                </div>
                <div class="timer">
                    
                </div>
                <div class="score ">
                    <div class="sblue"></div>
                    <div class="sred"></div>
                </div>
            </div>
        </div>
        <div class="qr">
            <img src="./media/qr.png" alt="" srcset="">
        </div>
        <script src="./js/video.js"></script>
        <script>
            let mus;
            window.addEventListener('keypress', function (e) 
            {
                if(e.code === "KeyQ")
                {
                    document.querySelector('.sblue').classList.toggle("dNone")
                    document.querySelector('.sred').classList.toggle("dNone")
                    document.querySelector('.b1').classList.toggle("dNone")
                    document.querySelector('.b2').classList.toggle("dNone")
                    document.querySelector('.b3').classList.toggle("dNone")
                    document.querySelector('.r1').classList.toggle("dNone")
                    document.querySelector('.r2').classList.toggle("dNone")
                    document.querySelector('.r3').classList.toggle("dNone")
                }
                if (e.code === 'KeyC') 
                {
                                /*
                    *  Copyright (c) 2015 The WebRTC project authors. All Rights Reserved.
                    *
                    *  Use of this source code is governed by a BSD-style license
                    *  that can be found in the LICENSE file in the root of the source
                    *  tree.
                    */
                    'use strict';

                    // Put variables in global scope to make them available to the browser console.
                    const constraints = window.constraints = {
                    audio: false,
                    video: true
                    };

                    function handleSuccess(stream) {
                    const video = document.querySelector('.camera');
                    const videoTracks = stream.getVideoTracks();
                    console.log('Got stream with constraints:', constraints);
                    console.log(`Using video device: ${videoTracks[0].label}`);
                    window.stream = stream; // make variable available to browser console
                    video.srcObject = stream;
                    }

                    function handleError(error) {
                    if (error.name === 'OverconstrainedError') {
                        const v = constraints.video;
                        errorMsg(`The resolution ${v.width.exact}x${v.height.exact} px is not supported by your device.`);
                    } else if (error.name === 'NotAllowedError') {
                        errorMsg('Permissions have not been granted to use your camera and ' +
                        'microphone, you need to allow the page access to your devices in ' +
                        'order for the demo to work.');
                    }
                    errorMsg(`getUserMedia error: ${error.name}`, error);
                    }

                    function errorMsg(msg, error) {
                    const errorElement = document.querySelector('#errorMsg');
                    errorElement.innerHTML += `<p>${msg}</p>`;
                    if (typeof error !== 'undefined') {
                        console.error(error);
                    }
                    }

                    async function init(e) {
                    try {
                        const stream = await navigator.mediaDevices.getUserMedia(constraints);
                        handleSuccess(stream);
                        e.target.disabled = true;
                    } catch (e) {
                        handleError(e);
                    }
                    }
                    init();
                    document.querySelector('#showVideo').addEventListener('click', e => init(e));
        
                }
                if (e.code === 'KeyU') 
                {
                    document.querySelector(".uzb").classList.toggle("dNone")
                    mus = new  Audio('Uzbekistan.mp3')
                    mus.play()
                    

                }
                if (e.code === "KeyP")
                {
                    mus.pause()
                }
                if (e.code === 'KeyG') 
                {
                    var mediaVideo = document.querySelector(".gen");
                    mediaVideo.play()
                    // if (mediaVideo.paused)
                    // {
                    //     mediaVideo.play()
                    // }
                    // else{
                    //     mediaVideo.pause()
                    // }
                    document.querySelector(".gen").classList.toggle("dNone")
                    
                }
            
                if (e.code === 'KeyK') 
                {
                    document.querySelector(".kaz").classList.toggle("dNone")
                    mus = new  Audio('Kazakhstan.mp3')
                    mus.play()
                }
                if (e.code === 'KeyM')
                {
                    document.querySelector(".container").classList.toggle("dNone")
                }

            
            
            })

        </script>
</body>
</html>